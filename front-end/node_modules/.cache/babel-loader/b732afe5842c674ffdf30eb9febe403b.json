{"ast":null,"code":"var _jsxFileName = \"D:\\\\__Bitcamp\\\\__crafts\\\\02_final\\\\project\\\\1022 ~\\\\PlanD\\\\front-end\\\\src\\\\pages\\\\MemberHome.jsx\",\n    _s = $RefreshSig$();\n\n// 달력 스타일링 마무리\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Header from \"../components/header/Header\";\nimport Footer from \"../components/footer/Footer\";\nimport ImageSlider from \"../components/body/imageSlider/ImageSlider\";\nimport Dots from \"../components/body/imageSlider/Dots\";\nimport { PointLetter, BodyLayout, StyledButton, MenuBox, SubMenuTitle, MyMenuItemBox } from \"../components/body/mixin/Mixin\";\nimport CustomCalerdar from \"../components/body/calendar/CustomCalerdar\";\nimport { Link } from \"react-router-dom\";\nimport { read_cookie } from \"sfcookies\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MenuSection = styled.section`\n  width: 60vw;\n  height: 140vh;\n  margin: var(--margin-default);\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n`;\n_c = MenuSection;\nconst Container = styled.div`\n  width: 40%;\n  min-width: 360px;\n  height: 40%;\n  margin: var(--margin-default);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--color-bg);\n  border-radius: 8px;\n`;\n_c2 = Container;\nconst HomeMenuBox = styled(MenuBox)`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n_c3 = HomeMenuBox;\nconst HomeSubMenuTitle = styled(SubMenuTitle)`\n  width: 100%;\n  background-color: var(--color-light-green);\n  text-align: center;\n`;\n_c4 = HomeSubMenuTitle;\nconst SubHeading = styled.div`\n  margin-top: calc(var(--margin-default)) 0;\n  font-size: var(--font-size-title-normal);\n`;\n_c5 = SubHeading;\nconst Article = styled.article`\n  width: 100%;\n  height: calc(100% - var(--margin-default) - var(--font-size-title-normal));\n  padding: var(--padding-default);\n  font-size: var(--font-size-title-small);\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n`;\n_c6 = Article;\nconst ArticleItem = styled.div`\n  margin: calc(var(--margin-default) / 2) calc(var(--margin-default) / 4);\n`;\n_c7 = ArticleItem;\nconst StyledButtonWidthMargin = styled(StyledButton)`\n  margin-top: ${props => props.fromTop};\n  margin-bottom: 20px;\n`;\n_c8 = StyledButtonWidthMargin;\n\nconst MemberHome = () => {\n  _s();\n\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [userData, setUserData] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [idx, setIdx] = useState(\"first\"); // console.log(\"idx in member home\", idx);\n  // 날짜 선택하고 course로 넘어가게 하기\n  // console.log(\"멤버홈\", selectedDate);\n\n  useEffect(() => {\n    // 마이페이지에서 수정하러 왔을 때만 axios에서 유저 정보 받아오기\n    if (read_cookie(\"userId\").length > 0) {\n      // 쿠키 읽어서 유저 아이디가 있다면 서버에서 정보 받아오기\n      const userId = read_cookie(\"userId\");\n      const body = {\n        userId: userId\n      };\n      axios.post(\"/wherewego/getUserData\", body).then(response => {\n        // console.log(response.data);\n        setUserData(response.data);\n        setIsLoaded(true);\n      }).catch(error => console.log(error));\n    }\n  }, []); // console.log(userData);\n  // 날짜 객체를 넣으면 년, 월, 일만 반환\n\n  const getYMD = dateString => {\n    const year = parseInt(dateString.substring(0, 4));\n    const month = parseInt(dateString.substring(5, 7));\n    const date = parseInt(dateString.substring(8, 10));\n    return [year, month, date];\n  }; // 두 날짜 간의 차이를 구함 => 오늘 날짜 - 특정 날짜\n\n\n  const betweenDays = (firstDate, secondDate) => {\n    const betweenTime = Math.abs(secondDate.getTime() - firstDate.getTime());\n    return Math.floor(betweenTime / (1000 * 60 * 60 * 24));\n  }; // 최대 7개의 DDay 입력\n\n\n  const setDDays = (anniversary, targetDay, today) => {\n    const dDays = [];\n    console.log(\"타겟\", targetDay);\n\n    while (dDays.length <= 7) {\n      betweenDays(targetDay, today) < 0 ? dDays.push(anniversary) : setDDays(anniversary + 100);\n    }\n\n    return dDays;\n  };\n\n  const calculateDDays = anniversary => {\n    if (userData.startdate !== null) {\n      console.log(\"기념일\", userData.startdate); // 기념일의 연월일\n\n      const dYMD = getYMD(userData.startdate);\n      const dDay = new Date(dYMD[0], dYMD[1] - 1, dYMD[2]);\n      const today = new Date(); // 오늘의 연월일\n\n      if (anniversary === undefined) {\n        // 오늘이 며칠인지 계산(anniversary x)\n        return betweenDays(dDay, today);\n      } else if (!isNaN(anniversary)) {\n        // + 100일, 365일을 반복해서 구함\n        const targetDay = new Date(dYMD[0], dYMD[1] - 1, dYMD[2] + anniversary);\n        return setDDays(anniversary, targetDay, today);\n      }\n    }\n  };\n\n  console.log(calculateDDays(100));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BodyLayout, {\n      padding: \"0\",\n      children: [/*#__PURE__*/_jsxDEV(ImageSlider, {\n        idx: idx,\n        setIdx: setIdx\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dots, {\n        idx: idx,\n        setIdx: setIdx\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MenuSection, {\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(HomeMenuBox, {\n            children: isLoaded && (userData === null || userData === void 0 ? void 0 : userData.startdate) === null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(HomeSubMenuTitle, {\n                children: \"\\uAE30\\uB150\\uC77C\\uC744 \\uC124\\uC815\\uD574 \\uC8FC\\uC138\\uC694!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/individualform`,\n                children: /*#__PURE__*/_jsxDEV(StyledButtonWidthMargin, {\n                  fromTop: \"400px\",\n                  children: \"\\uAE30\\uB150\\uC77C \\uC124\\uC815\\uD558\\uB7EC \\uAC00\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(HomeSubMenuTitle, {\n                children: [userData === null || userData === void 0 ? void 0 : userData.name, \"\\uB2D8\\uC758 \\uAE30\\uB150\\uC77C\\uB85C\\uBD80\\uD130\", /*#__PURE__*/_jsxDEV(PointLetter, {\n                  children: \" D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this), \"+\", isLoaded && calculateDDays()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n                children: [\"36,600 \\uAE30\\uB150\\uC77C \", /*#__PURE__*/_jsxDEV(PointLetter, {\n                  children: \"D-100\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 32\n                }, this), \" (2031/12/10)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n                children: [\"36,700 \\uAE30\\uB150\\uC77C \", /*#__PURE__*/_jsxDEV(PointLetter, {\n                  children: \"D-200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 32\n                }, this), \" (2032/03/20)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n                children: [\"36,800 \\uAE30\\uB150\\uC77C \", /*#__PURE__*/_jsxDEV(PointLetter, {\n                  children: \"D-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 32\n                }, this), \" (2032/06/30)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n                children: [\"101\\uC8FC\\uB144 \", /*#__PURE__*/_jsxDEV(PointLetter, {\n                  children: \"D-365\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 27\n                }, this), \" (2032/09/05)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n                children: [\"36,900 \\uAE30\\uB150\\uC77C \", /*#__PURE__*/_jsxDEV(PointLetter, {\n                  children: \"D-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 32\n                }, this), \" (2032/10/10)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n                children: [\"37,000 \\uAE30\\uB150\\uC77C \", /*#__PURE__*/_jsxDEV(PointLetter, {\n                  children: \"D-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 32\n                }, this), \" (2032/01/10)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(HomeMenuBox, {\n            children: [/*#__PURE__*/_jsxDEV(HomeSubMenuTitle, {\n              children: \"\\uD50C\\uB79C\\uC744 \\uC138\\uC6CC \\uBCF4\\uC138\\uC694!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CustomCalerdar, {\n              setSelectedDate: setSelectedDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), selectedDate !== null ? /*#__PURE__*/_jsxDEV(Link, {\n              to: `/planning/${selectedDate}`,\n              children: /*#__PURE__*/_jsxDEV(StyledButtonWidthMargin, {\n                children: [`${selectedDate.getFullYear()}/${selectedDate.getMonth() + 1}/${selectedDate.getDate()} 데이트 `, \"\\uC608\\uC57D\\uD558\\uB7EC \\uAC00\\uAE30\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Link, {\n              to: `/planning/`,\n              children: /*#__PURE__*/_jsxDEV(StyledButtonWidthMargin, {\n                children: \"\\uC608\\uC57D\\uD558\\uB7EC \\uAC00\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(SubHeading, {\n            children: \"\\uC608\\uC57D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Article, {\n            children: /*#__PURE__*/_jsxDEV(ArticleItem, {\n              children: \"\\uC7A0\\uC2E4\\uC5ED \\uB370\\uC774\\uD2B8(2031/12/10) 14:00~18:00(\\uCF54\\uC2A4 \\uC694\\uC57D \\uCD94\\uAC00)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(SubHeading, {\n            children: \"\\uC774\\uB825\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Article, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MemberHome, \"XBAjoZdpnkUv18yGwkZX+QbIOCc=\");\n\n_c9 = MemberHome;\nexport default MemberHome;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"MenuSection\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"HomeMenuBox\");\n$RefreshReg$(_c4, \"HomeSubMenuTitle\");\n$RefreshReg$(_c5, \"SubHeading\");\n$RefreshReg$(_c6, \"Article\");\n$RefreshReg$(_c7, \"ArticleItem\");\n$RefreshReg$(_c8, \"StyledButtonWidthMargin\");\n$RefreshReg$(_c9, \"MemberHome\");","map":{"version":3,"sources":["D:/__Bitcamp/__crafts/02_final/project/1022 ~/PlanD/front-end/src/pages/MemberHome.jsx"],"names":["React","useEffect","useState","styled","Header","Footer","ImageSlider","Dots","PointLetter","BodyLayout","StyledButton","MenuBox","SubMenuTitle","MyMenuItemBox","CustomCalerdar","Link","read_cookie","axios","MenuSection","section","Container","div","HomeMenuBox","HomeSubMenuTitle","SubHeading","Article","article","ArticleItem","StyledButtonWidthMargin","props","fromTop","MemberHome","isLoaded","setIsLoaded","userData","setUserData","selectedDate","setSelectedDate","idx","setIdx","length","userId","body","post","then","response","data","catch","error","console","log","getYMD","dateString","year","parseInt","substring","month","date","betweenDays","firstDate","secondDate","betweenTime","Math","abs","getTime","floor","setDDays","anniversary","targetDay","today","dDays","push","calculateDDays","startdate","dYMD","dDay","Date","undefined","isNaN","name","getFullYear","getMonth","getDate"],"mappings":"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","sourcesContent":["// 달력 스타일링 마무리\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../components/header/Header\";\r\nimport Footer from \"../components/footer/Footer\";\r\nimport ImageSlider from \"../components/body/imageSlider/ImageSlider\";\r\nimport Dots from \"../components/body/imageSlider/Dots\";\r\nimport {\r\n  PointLetter,\r\n  BodyLayout,\r\n  StyledButton,\r\n  MenuBox,\r\n  SubMenuTitle,\r\n  MyMenuItemBox,\r\n} from \"../components/body/mixin/Mixin\";\r\nimport CustomCalerdar from \"../components/body/calendar/CustomCalerdar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { read_cookie } from \"sfcookies\";\r\nimport axios from \"axios\";\r\n\r\nconst MenuSection = styled.section`\r\n  width: 60vw;\r\n  height: 140vh;\r\n  margin: var(--margin-default);\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 40%;\r\n  min-width: 360px;\r\n  height: 40%;\r\n  margin: var(--margin-default);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: var(--color-bg);\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst HomeMenuBox = styled(MenuBox)`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst HomeSubMenuTitle = styled(SubMenuTitle)`\r\n  width: 100%;\r\n  background-color: var(--color-light-green);\r\n  text-align: center;\r\n`;\r\n\r\nconst SubHeading = styled.div`\r\n  margin-top: calc(var(--margin-default)) 0;\r\n  font-size: var(--font-size-title-normal);\r\n`;\r\n\r\nconst Article = styled.article`\r\n  width: 100%;\r\n  height: calc(100% - var(--margin-default) - var(--font-size-title-normal));\r\n  padding: var(--padding-default);\r\n  font-size: var(--font-size-title-small);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst ArticleItem = styled.div`\r\n  margin: calc(var(--margin-default) / 2) calc(var(--margin-default) / 4);\r\n`;\r\n\r\nconst StyledButtonWidthMargin = styled(StyledButton)`\r\n  margin-top: ${(props) => props.fromTop};\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst MemberHome = () => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [userData, setUserData] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [idx, setIdx] = useState(\"first\");\r\n  // console.log(\"idx in member home\", idx);\r\n  // 날짜 선택하고 course로 넘어가게 하기\r\n  // console.log(\"멤버홈\", selectedDate);\r\n\r\n  useEffect(() => {\r\n    // 마이페이지에서 수정하러 왔을 때만 axios에서 유저 정보 받아오기\r\n    if (read_cookie(\"userId\").length > 0) {\r\n      // 쿠키 읽어서 유저 아이디가 있다면 서버에서 정보 받아오기\r\n      const userId = read_cookie(\"userId\");\r\n      const body = {\r\n        userId: userId,\r\n      };\r\n      axios\r\n        .post(\"/wherewego/getUserData\", body)\r\n        .then((response) => {\r\n          // console.log(response.data);\r\n          setUserData(response.data);\r\n          setIsLoaded(true);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, []);\r\n  // console.log(userData);\r\n\r\n  // 날짜 객체를 넣으면 년, 월, 일만 반환\r\n  const getYMD = (dateString) => {\r\n    const year = parseInt(dateString.substring(0, 4));\r\n    const month = parseInt(dateString.substring(5, 7));\r\n    const date = parseInt(dateString.substring(8, 10));\r\n    return [year, month, date];\r\n  };\r\n\r\n  // 두 날짜 간의 차이를 구함 => 오늘 날짜 - 특정 날짜\r\n  const betweenDays = (firstDate, secondDate) => {\r\n    const betweenTime = Math.abs(secondDate.getTime() - firstDate.getTime());\r\n    return Math.floor(betweenTime / (1000 * 60 * 60 * 24));\r\n  };\r\n\r\n  // 최대 7개의 DDay 입력\r\n  const setDDays = (anniversary, targetDay, today) => {\r\n    const dDays = [];\r\n    console.log(\"타겟\", targetDay);\r\n    while (dDays.length <= 7) {\r\n      betweenDays(targetDay, today) < 0\r\n        ? dDays.push(anniversary)\r\n        : setDDays(anniversary + 100);\r\n    }\r\n    return dDays;\r\n  };\r\n\r\n  const calculateDDays = (anniversary) => {\r\n    if (userData.startdate !== null) {\r\n      console.log(\"기념일\", userData.startdate);\r\n      // 기념일의 연월일\r\n      const dYMD = getYMD(userData.startdate);\r\n      const dDay = new Date(dYMD[0], dYMD[1] - 1, dYMD[2]);\r\n\r\n      const today = new Date();\r\n      // 오늘의 연월일\r\n      if (anniversary === undefined) {\r\n        // 오늘이 며칠인지 계산(anniversary x)\r\n        return betweenDays(dDay, today);\r\n      } else if (!isNaN(anniversary)) {\r\n        // + 100일, 365일을 반복해서 구함\r\n        const targetDay = new Date(dYMD[0], dYMD[1] - 1, dYMD[2] + anniversary);\r\n        return setDDays(anniversary, targetDay, today);\r\n      }\r\n    }\r\n  };\r\n\r\n  console.log(calculateDDays(100));\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <BodyLayout padding=\"0\">\r\n        <ImageSlider idx={idx} setIdx={setIdx} />\r\n        <Dots idx={idx} setIdx={setIdx} />\r\n        <MenuSection>\r\n          <Container>\r\n            <HomeMenuBox>\r\n              {isLoaded && userData?.startdate === null ? (\r\n                <>\r\n                  <HomeSubMenuTitle>기념일을 설정해 주세요!</HomeSubMenuTitle>\r\n                  <Link to={`/individualform`}>\r\n                    <StyledButtonWidthMargin fromTop=\"400px\">\r\n                      기념일 설정하러 가기\r\n                    </StyledButtonWidthMargin>\r\n                  </Link>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <HomeSubMenuTitle>\r\n                    {userData?.name}님의 기념일로부터\r\n                    <PointLetter> D</PointLetter>+{isLoaded && calculateDDays()}\r\n                  </HomeSubMenuTitle>\r\n                  <MyMenuItemBox>\r\n                    36,600 기념일 <PointLetter>D-100</PointLetter> (2031/12/10)\r\n                  </MyMenuItemBox>\r\n                  <MyMenuItemBox>\r\n                    36,700 기념일 <PointLetter>D-200</PointLetter> (2032/03/20)\r\n                  </MyMenuItemBox>\r\n                  <MyMenuItemBox>\r\n                    36,800 기념일 <PointLetter>D-300</PointLetter> (2032/06/30)\r\n                  </MyMenuItemBox>\r\n                  <MyMenuItemBox>\r\n                    101주년 <PointLetter>D-365</PointLetter> (2032/09/05)\r\n                  </MyMenuItemBox>\r\n                  <MyMenuItemBox>\r\n                    36,900 기념일 <PointLetter>D-400</PointLetter> (2032/10/10)\r\n                  </MyMenuItemBox>\r\n                  <MyMenuItemBox>\r\n                    37,000 기념일 <PointLetter>D-500</PointLetter> (2032/01/10)\r\n                  </MyMenuItemBox>\r\n                </>\r\n              )}\r\n            </HomeMenuBox>\r\n          </Container>\r\n          <Container>\r\n            <HomeMenuBox>\r\n              <HomeSubMenuTitle>플랜을 세워 보세요!</HomeSubMenuTitle>\r\n              {/* 예약시에는(예약일) minDate 오늘, 가입시에는(시작일) maxDate 오늘 */}\r\n\r\n              <CustomCalerdar setSelectedDate={setSelectedDate} />\r\n              {selectedDate !== null ? (\r\n                <Link to={`/planning/${selectedDate}`}>\r\n                  <StyledButtonWidthMargin>\r\n                    {`${selectedDate.getFullYear()}/${\r\n                      selectedDate.getMonth() + 1\r\n                    }/${selectedDate.getDate()} 데이트 `}\r\n                    예약하러 가기\r\n                  </StyledButtonWidthMargin>\r\n                </Link>\r\n              ) : (\r\n                <Link to={`/planning/`}>\r\n                  <StyledButtonWidthMargin>\r\n                    예약하러 가기\r\n                  </StyledButtonWidthMargin>\r\n                </Link>\r\n              )}\r\n            </HomeMenuBox>\r\n          </Container>\r\n          <Container>\r\n            <SubHeading>예약</SubHeading>\r\n            <Article>\r\n              <ArticleItem>\r\n                잠실역 데이트(2031/12/10) 14:00~18:00(코스 요약 추가)\r\n              </ArticleItem>\r\n            </Article>\r\n          </Container>\r\n          <Container>\r\n            <SubHeading>이력</SubHeading>\r\n            <Article></Article>\r\n          </Container>\r\n        </MenuSection>\r\n      </BodyLayout>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemberHome;\r\n"]},"metadata":{},"sourceType":"module"}