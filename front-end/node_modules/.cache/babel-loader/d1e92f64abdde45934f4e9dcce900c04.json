{"ast":null,"code":"var _jsxFileName = \"D:\\\\__Bitcamp\\\\__crafts\\\\02_final\\\\project\\\\1022 ~\\\\PlanD\\\\front-end\\\\src\\\\components\\\\body\\\\myMenu\\\\MyReviews.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ContentP, MyMenuItemBox, StyledButton, TitleP } from \"../mixin/Mixin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MyReviews = ({\n  reviewLoaded = false,\n  userReview = null,\n  reservationLoaded = false,\n  userReservation = null\n}) => {\n  _s();\n\n  const [reviewList, setReviewList] = useState([]);\n  const userReviewData = userReview;\n  const userReservationData = userReservation;\n  useEffect(() => {\n    // 리뷰 = 작성한 리뷰(userReviewData) + 작성 가능한 예약\n    const today = new Date();\n    const thisMonth = today.getMonth() + 1;\n    const thisDate = today.getDate(); // 예약 중, 오늘보다 날짜가 빠른 애들은 리뷰 작성 가능\n    // console.log(\"오늘\", today);\n    // console.log(\"오늘\", thisMonth, thisDate);\n\n    const list = userReservationData === null || userReservationData === void 0 ? void 0 : userReservationData.filter(data => {\n      return parseInt(data.resdate.split(\"/\")[0]) < thisMonth || parseInt(data.resdate.split(\"/\")[0]) === thisMonth && parseInt(data.resdate.split(\"/\")[1]) <= thisDate;\n    });\n    setReviewList(list, userReviewData);\n  }, [reviewLoaded, reservationLoaded]); // console.log(\"옵셔널 체이닝 후 리뷰\", userReviewData);\n  // console.log(\"마이리뷰의 예약(이력)\", userReservationData);\n  // console.log(\"마이리뷰\", userReview);\n\n  console.log(reviewList);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: (userReviewData === null || userReviewData === void 0 ? void 0 : userReviewData.length) > 0 ? userReviewData.map(data => {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: `/myreviewsitem/${data.r_num}`,\n        children: /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TitleP, {\n              children: data.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ContentP, {\n            children: data.info\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this);\n    }) : (userReservation === null || userReservation === void 0 ? void 0 : userReservation.length) === 0 ? /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n      children: [\"\\uC774\\uC6A9 \\uB0B4\\uC5ED\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(Link, {\n        to: `/planning`,\n        children: /*#__PURE__*/_jsxDEV(StyledButton, {\n          children: \"\\uC608\\uC57D\\uD558\\uB7EC \\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(MyMenuItemBox, {\n      children: [\"\\uD6C4\\uAE30 \\uC791\\uC131\\uD574\\uC57C \\uD560 \\uCF54\\uC2A4\", /*#__PURE__*/_jsxDEV(Link, {\n        to: `/userreview`,\n        children: /*#__PURE__*/_jsxDEV(StyledButton, {\n          children: \"\\uD6C4\\uAE30 \\uC791\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(MyReviews, \"at39Zc/Aqkfd91J9mmi80DomBIo=\");\n\n_c = MyReviews;\nexport default MyReviews;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyReviews\");","map":{"version":3,"sources":["D:/__Bitcamp/__crafts/02_final/project/1022 ~/PlanD/front-end/src/components/body/myMenu/MyReviews.jsx"],"names":["React","useEffect","useState","Link","ContentP","MyMenuItemBox","StyledButton","TitleP","MyReviews","reviewLoaded","userReview","reservationLoaded","userReservation","reviewList","setReviewList","userReviewData","userReservationData","today","Date","thisMonth","getMonth","thisDate","getDate","list","filter","data","parseInt","resdate","split","console","log","length","map","r_num","name","info"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ContentP, MyMenuItemBox, StyledButton, TitleP } from \"../mixin/Mixin\";\r\n\r\nconst MyReviews = ({\r\n  reviewLoaded = false,\r\n  userReview = null,\r\n  reservationLoaded = false,\r\n  userReservation = null,\r\n}) => {\r\n  const [reviewList, setReviewList] = useState([]);\r\n  const userReviewData = userReview;\r\n  const userReservationData = userReservation;\r\n\r\n  useEffect(() => {\r\n    // 리뷰 = 작성한 리뷰(userReviewData) + 작성 가능한 예약\r\n    const today = new Date();\r\n    const thisMonth = today.getMonth() + 1;\r\n    const thisDate = today.getDate();\r\n    // 예약 중, 오늘보다 날짜가 빠른 애들은 리뷰 작성 가능\r\n    // console.log(\"오늘\", today);\r\n    // console.log(\"오늘\", thisMonth, thisDate);\r\n    const list = userReservationData?.filter((data) => {\r\n      return (\r\n        parseInt(data.resdate.split(\"/\")[0]) < thisMonth ||\r\n        (parseInt(data.resdate.split(\"/\")[0]) === thisMonth &&\r\n          parseInt(data.resdate.split(\"/\")[1]) <= thisDate)\r\n      );\r\n    });\r\n    setReviewList(list, userReviewData);\r\n  }, [reviewLoaded, reservationLoaded]);\r\n  // console.log(\"옵셔널 체이닝 후 리뷰\", userReviewData);\r\n  // console.log(\"마이리뷰의 예약(이력)\", userReservationData);\r\n  // console.log(\"마이리뷰\", userReview);\r\n  console.log(reviewList);\r\n\r\n  return (\r\n    <>\r\n      {userReviewData?.length > 0 ? (\r\n        userReviewData.map((data) => {\r\n          return (\r\n            <Link to={`/myreviewsitem/${data.r_num}`}>\r\n              <MyMenuItemBox>\r\n                <div>\r\n                  <i className=\"fas fa-edit\"></i>\r\n                  <TitleP>{data.name}</TitleP>\r\n                </div>\r\n                <ContentP>{data.info}</ContentP>\r\n              </MyMenuItemBox>\r\n            </Link>\r\n          );\r\n        })\r\n      ) : userReservation?.length === 0 ? (\r\n        <MyMenuItemBox>\r\n          이용 내역이 없습니다.\r\n          <Link to={`/planning`}>\r\n            <StyledButton>예약하러 가기</StyledButton>\r\n          </Link>\r\n        </MyMenuItemBox>\r\n      ) : (\r\n        <MyMenuItemBox>\r\n          후기 작성해야 할 코스\r\n          <Link to={`/userreview`}>\r\n            <StyledButton>후기 작성</StyledButton>\r\n          </Link>\r\n        </MyMenuItemBox>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyReviews;\r\n"]},"metadata":{},"sourceType":"module"}